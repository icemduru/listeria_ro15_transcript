{"version":3,"file":"static/js/4364.6e507eff.chunk.js","mappings":"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","sources":["NewSessionCards.tsx","RecentSessionCard.js","StartScreen.tsx","../../../node_modules/@mui/icons-material/Warning.js","../../../node_modules/@mui/material/esm/Card/Card.js","../../../node_modules/@mui/material/esm/Card/cardClasses.js","../../../node_modules/@mui/material/esm/CardMedia/CardMedia.js","../../../node_modules/@mui/material/esm/CardMedia/cardMediaClasses.js"],"sourcesContent":["import React, { useState } from 'react'\nimport { Card, CardMedia, Container, Typography } from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\n\nimport emptyIcon from './img/emptyIcon.png'\nimport linearGenomeViewIcon from './img/linearGenomeViewIcon.png'\nimport svInspectorIcon from './img/svInspectorIcon.png'\n\nconst useStyles = makeStyles()(theme => ({\n  card: {\n    width: 200,\n    height: 150,\n    cursor: 'pointer',\n  },\n  name: {\n    marginTop: 4, // theme.spacing(),\n    textAlign: 'center',\n    maxWidth: 200,\n  },\n  media: {\n    height: 150,\n  },\n}))\n\nconst emptySessionSnapshot = {\n  name: `New session ${new Date().toLocaleString()}`,\n  connections: {},\n}\n\nfunction NewSessionCard({\n  name,\n  onClick = () => {},\n  image,\n}: {\n  name: string\n  onClick: () => void\n  image?: string\n}) {\n  const { classes } = useStyles()\n  const [hovered, setHovered] = useState(false)\n  return (\n    <Container>\n      <Card\n        className={classes.card}\n        onMouseOver={() => setHovered(true)}\n        onMouseOut={() => setHovered(false)}\n        onClick={onClick}\n        raised={Boolean(hovered)}\n      >\n        <CardMedia className={classes.media} image={image} />\n      </Card>\n      <Typography\n        variant=\"subtitle2\"\n        className={classes.name}\n        style={{ cursor: 'pointer' }}\n        onClick={onClick}\n      >\n        {name}\n      </Typography>\n    </Container>\n  )\n}\n\ninterface RootModel {\n  setSession: Function\n}\n\nexport function NewEmptySession({ rootModel }: { rootModel: RootModel }) {\n  return (\n    <NewSessionCard\n      name=\"Empty\"\n      image={emptyIcon}\n      onClick={() => {\n        rootModel.setSession(emptySessionSnapshot)\n      }}\n    />\n  )\n}\n\nexport function NewLinearGenomeViewSession({\n  rootModel,\n}: {\n  rootModel: RootModel\n}) {\n  return (\n    <NewSessionCard\n      name=\"Linear Genome View\"\n      image={linearGenomeViewIcon}\n      onClick={() => {\n        rootModel.setSession({\n          ...emptySessionSnapshot,\n          name: `New session ${new Date().toLocaleString()}`,\n          views: [{ type: 'LinearGenomeView' }],\n        })\n      }}\n    />\n  )\n}\n\nexport function NewSVInspectorSession({ rootModel }: { rootModel: RootModel }) {\n  return (\n    <NewSessionCard\n      name=\"Structural Variant Inspector\"\n      image={svInspectorIcon}\n      onClick={() => {\n        rootModel.setSession({\n          ...emptySessionSnapshot,\n          name: `New session ${new Date().toLocaleString()}`,\n          views: [{ type: 'SvInspectorView' }],\n        })\n      }}\n    />\n  )\n}\n","import React, { useState } from 'react'\nimport {\n  IconButton,\n  ListItem,\n  ListItemIcon,\n  Menu,\n  MenuItem,\n  Tooltip,\n  Typography,\n} from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport DeleteIcon from '@mui/icons-material/Delete'\nimport MoreVertIcon from '@mui/icons-material/MoreVert'\n\nconst useStyles = makeStyles()({\n  menu: {\n    left: '65%',\n  },\n})\n\nfunction RecentSessionCard({ sessionName, onClick, onDelete }) {\n  const { classes } = useStyles()\n  const [hovered, setHovered] = useState(false)\n  const [menuAnchorEl, setMenuAnchorEl] = useState(null)\n\n  function onMenuClick(event) {\n    event.stopPropagation()\n    setMenuAnchorEl(event.currentTarget)\n  }\n\n  const handleMenuClose = action => {\n    setMenuAnchorEl(null)\n    if (action === 'delete') {\n      return onDelete(sessionName)\n    }\n    return undefined\n  }\n\n  return (\n    <>\n      <ListItem\n        onMouseOver={() => setHovered(true)}\n        onMouseOut={() => setHovered(false)}\n        onClick={() => onClick(sessionName)}\n        raised={Boolean(hovered)}\n        button\n      >\n        <Tooltip title={sessionName} enterDelay={300}>\n          <Typography variant=\"body2\" noWrap style={{ width: 250 }}>\n            {sessionName}\n          </Typography>\n        </Tooltip>\n        <IconButton className={classes.menu} onClick={onMenuClick}>\n          <MoreVertIcon color=\"secondary\" />\n        </IconButton>\n      </ListItem>\n      <Menu\n        id=\"simple-menu\"\n        anchorEl={menuAnchorEl}\n        keepMounted\n        open={Boolean(menuAnchorEl)}\n        onClose={handleMenuClose}\n      >\n        <MenuItem onClick={() => handleMenuClose('delete')}>\n          <ListItemIcon>\n            <DeleteIcon color=\"secondary\" />\n          </ListItemIcon>\n          <Typography variant=\"inherit\">Delete</Typography>\n        </MenuItem>\n      </Menu>\n    </>\n  )\n}\n\nexport default RecentSessionCard\n","/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { useEffect, useState } from 'react'\nimport {\n  Button,\n  CircularProgress,\n  Container,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  Grid,\n  IconButton,\n  List,\n  ListItemIcon,\n  ListSubheader,\n  Menu,\n  MenuItem,\n  Typography,\n} from '@mui/material'\nimport { makeStyles } from 'tss-react/mui'\nimport WarningIcon from '@mui/icons-material/Warning'\nimport SettingsIcon from '@mui/icons-material/Settings'\n\nimport { LogoFull, FactoryResetDialog } from '@jbrowse/core/ui'\nimport {\n  NewEmptySession,\n  NewLinearGenomeViewSession,\n  NewSVInspectorSession,\n} from './NewSessionCards'\nimport RecentSessionCard from './RecentSessionCard'\n\nconst useStyles = makeStyles()(theme => ({\n  newSession: {\n    backgroundColor: theme.palette?.grey['300'],\n    padding: 8, // theme.spacing(2),\n    marginTop: 8, // theme.spacing(6),\n  },\n  header: {\n    margin: 8, // theme.spacing(2),\n  },\n  settings: {\n    float: 'right',\n  },\n}))\n\nconst DeleteSessionDialog = ({\n  sessionToDelete,\n  onClose,\n  rootModel,\n}: {\n  sessionToDelete?: string\n  onClose: (_arg0: boolean) => void\n  rootModel: any\n}) => {\n  const [deleteSession, setDeleteSession] = useState(false)\n  useEffect(() => {\n    ;(async () => {\n      try {\n        if (deleteSession) {\n          setDeleteSession(false)\n          rootModel.removeSavedSession({ name: sessionToDelete })\n          onClose(true)\n        }\n      } catch (e) {\n        setDeleteSession(() => {\n          throw e\n        })\n      }\n    })()\n  }, [deleteSession, onClose, rootModel, sessionToDelete])\n\n  return (\n    <Dialog open={!!sessionToDelete} onClose={() => onClose(false)}>\n      <DialogTitle id=\"alert-dialog-title\">\n        {`Delete session \"${sessionToDelete}\"?`}\n      </DialogTitle>\n      <DialogContent>\n        <DialogContentText id=\"alert-dialog-description\">\n          This action cannot be undone\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => onClose(false)} color=\"primary\">\n          Cancel\n        </Button>\n        <Button\n          onClick={() => setDeleteSession(true)}\n          color=\"primary\"\n          variant=\"contained\"\n          autoFocus\n        >\n          Delete\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}\n\nexport default function StartScreen({\n  rootModel,\n  onFactoryReset,\n}: {\n  rootModel: any\n  onFactoryReset: Function\n}) {\n  const { classes } = useStyles()\n\n  const [sessions, setSessions] = useState<Record<string, any>>()\n  const [sessionToDelete, setSessionToDelete] = useState<string>()\n  const [sessionToLoad, setSessionToLoad] = useState<string>()\n  const [updateSessionsList, setUpdateSessionsList] = useState(true)\n  const [menuAnchorEl, setMenuAnchorEl] = useState<null | HTMLElement>(null)\n  const [reset, setReset] = useState(false)\n\n  const sessionNames = sessions !== undefined ? sessions : []\n  useEffect(() => {\n    ;(async () => {\n      try {\n        if (sessionToLoad) {\n          rootModel.activateSession(sessionToLoad)\n        }\n      } catch (e) {\n        setSessions(() => {\n          throw e\n        })\n      }\n    })()\n  }, [rootModel, sessionToLoad])\n\n  useEffect(() => {\n    ;(async () => {\n      try {\n        if (updateSessionsList) {\n          setUpdateSessionsList(false)\n          const savedRootSessions = rootModel.savedSessions.map(\n            (rootSavedSession: any) => {\n              return JSON.parse(JSON.stringify(rootSavedSession))?.name\n            },\n          )\n          setSessions(savedRootSessions)\n        }\n      } catch (e) {\n        setSessions(() => {\n          throw e\n        })\n      }\n    })()\n  }, [rootModel.savedSessions, updateSessionsList])\n\n  if (!sessions) {\n    return (\n      <CircularProgress\n        style={{\n          position: 'fixed',\n          top: '50%',\n          left: '50%',\n          marginTop: -25,\n          marginLeft: -25,\n        }}\n        size={50}\n      />\n    )\n  }\n\n  return (\n    <>\n      <FactoryResetDialog\n        open={reset}\n        onFactoryReset={onFactoryReset}\n        onClose={() => {\n          setReset(false)\n        }}\n      />\n      <DeleteSessionDialog\n        rootModel={rootModel}\n        sessionToDelete={sessionToDelete}\n        onClose={update => {\n          setSessionToDelete(undefined)\n          setUpdateSessionsList(update)\n        }}\n      />\n      <IconButton\n        className={classes.settings}\n        onClick={event => {\n          event.stopPropagation()\n          setMenuAnchorEl(event.currentTarget)\n        }}\n      >\n        <SettingsIcon />\n      </IconButton>\n      <Container maxWidth=\"md\">\n        <LogoFull />\n        <div className={classes.newSession}>\n          <Typography variant=\"h5\" className={classes.header}>\n            Start a new session\n          </Typography>\n          <Grid container spacing={4}>\n            <Grid item>\n              <NewEmptySession rootModel={rootModel} />\n            </Grid>\n            <Grid item>\n              <NewLinearGenomeViewSession rootModel={rootModel} />\n            </Grid>\n            <Grid item>\n              <NewSVInspectorSession rootModel={rootModel} />\n            </Grid>\n          </Grid>\n        </div>\n        <div>\n          <Typography variant=\"h5\" className={classes.header}>\n            Recent sessions\n          </Typography>\n          <List\n            style={{\n              overflow: 'auto',\n              maxHeight: 200,\n            }}\n          >\n            {sessionNames?.map((sessionName: string) => (\n              <RecentSessionCard\n                key={sessionName}\n                sessionName={sessionName}\n                onClick={() => setSessionToLoad(sessionName)}\n                onDelete={() => setSessionToDelete(sessionName)}\n              />\n            ))}\n          </List>\n        </div>\n      </Container>\n\n      <Menu\n        anchorEl={menuAnchorEl}\n        keepMounted\n        open={Boolean(menuAnchorEl)}\n        onClose={() => {\n          setMenuAnchorEl(null)\n        }}\n      >\n        <ListSubheader>Advanced Settings</ListSubheader>\n        <MenuItem\n          onClick={() => {\n            setReset(true)\n            setMenuAnchorEl(null)\n          }}\n        >\n          <ListItemIcon>\n            <WarningIcon />\n          </ListItemIcon>\n          <Typography variant=\"inherit\">Reset</Typography>\n        </MenuItem>\n      </Menu>\n    </>\n  )\n}\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _jsxRuntime = require(\"react/jsx-runtime\");\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/(0, _jsxRuntime.jsx)(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');\n\nexports.default = _default;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\n\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n\n  const {\n    className,\n    raised = false\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    raised\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  // ⚠️ object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;"],"names":["useStyles","makeStyles","theme","card","width","height","cursor","name","marginTop","textAlign","maxWidth","media","emptySessionSnapshot","Date","toLocaleString","connections","NewSessionCard","onClick","image","classes","useState","hovered","setHovered","Container","Card","className","onMouseOver","onMouseOut","raised","Boolean","CardMedia","Typography","variant","style","NewEmptySession","rootModel","setSession","NewLinearGenomeViewSession","views","type","NewSVInspectorSession","svInspectorIcon","menu","left","sessionName","onDelete","menuAnchorEl","setMenuAnchorEl","handleMenuClose","action","ListItem","button","Tooltip","title","enterDelay","noWrap","IconButton","event","stopPropagation","currentTarget","MoreVert","color","Menu","id","anchorEl","keepMounted","open","onClose","MenuItem","ListItemIcon","Delete","newSession","backgroundColor","palette","grey","padding","header","margin","settings","float","DeleteSessionDialog","sessionToDelete","deleteSession","setDeleteSession","useEffect","removeSavedSession","e","Dialog","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","autoFocus","StartScreen","onFactoryReset","sessions","setSessions","setSessionToDelete","sessionToLoad","setSessionToLoad","updateSessionsList","setUpdateSessionsList","reset","setReset","sessionNames","undefined","activateSession","savedRootSessions","savedSessions","map","rootSavedSession","JSON","parse","stringify","FactoryResetDialog","update","Settings","LogoFull","Grid","container","spacing","item","List","overflow","maxHeight","ListSubheader","Warning","CircularProgress","position","top","marginLeft","size","_interopRequireDefault","require","exports","_createSvgIcon","_jsxRuntime","_default","default","jsx","d","_excluded","CardRoot","styled","Paper","slot","overridesResolver","props","styles","root","React","inProps","ref","useThemeProps","other","_objectWithoutPropertiesLoose","ownerState","_extends","composeClasses","getCardUtilityClass","useUtilityClasses","_jsx","clsx","elevation","generateUtilityClass","cardClasses","generateUtilityClasses","CardMediaRoot","isMediaComponent","isImageComponent","img","display","backgroundSize","backgroundRepeat","backgroundPosition","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","children","component","src","indexOf","composedStyle","backgroundImage","slots","getCardMediaUtilityClass","as","role","cardMediaClasses"],"sourceRoot":""}